(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4337fa42"],{"32cc":function(t,e,r){},"99af":function(t,e,r){"use strict";var a=r("23e7"),n=r("d039"),s=r("e8b5"),i=r("861d"),c=r("7b0b"),o=r("50c4"),u=r("8418"),d=r("65f0"),l=r("1dde"),m=r("b622"),f=r("2d00"),v=m("isConcatSpreadable"),p=9007199254740991,_="Maximum allowed index exceeded",h=f>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),w=l("concat"),b=function(t){if(!i(t))return!1;var e=t[v];return void 0!==e?!!e:s(t)},C=!h||!w;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,r,a,n,s,i=c(this),l=d(i,0),m=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?i:arguments[e],b(s)){if(n=o(s.length),m+n>p)throw TypeError(_);for(r=0;r<n;r++,m++)r in s&&u(l,m,s[r])}else{if(m>=p)throw TypeError(_);u(l,m++,s)}return l.length=m,l}})},"9cab":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("NavTabs"),t.isLoading?r("Spinner"):[r("h1",{staticClass:"mt-5"},[t._v("最新動態")]),r("hr"),r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("NewestRestaurants",{attrs:{"new-restaurants":t.restaurants}})],1),r("div",{staticClass:"col-6"},[r("NewestComments",{attrs:{"new-comments":t.comments}})],1)])]],2)},n=[],s=(r("99af"),r("96cf"),r("1da1")),i=r("8bb1"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[t._v("最新餐廳")]),r("div",{staticClass:"card-body"},t._l(t.newRestaurants,(function(e){return r("div",{key:e.id},[r("h4",[r("router-link",{attrs:{to:{name:"restaurant",params:{id:e.id}}}},[t._v(t._s(e.name))]),r("br"),r("small",[t._v(t._s(e.Category.name))])],1),r("p",[t._v(t._s(e.description))]),t._v(" "+t._s(t._f("fromNow")(e.createdAt))+" "),r("hr")])})),0),t.newRestaurants.length<1?r("div",[t._v("目前沒有餐廳")]):t._e()])},o=[],u=r("2708"),d={mixins:[u["b"]],props:{newRestaurants:{type:Array,required:!0}}},l=d,m=(r("eca1"),r("2877")),f=Object(m["a"])(l,c,o,!1,null,"4b3ac16a",null),v=f.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[t._v("最新評論")]),r("div",{staticClass:"card-body"},t._l(t.filteredComments,(function(e){return r("div",{key:e.id},[r("h4",[r("router-link",{attrs:{to:{name:"restaurant",params:{id:e.Restaurant.id}}}},[t._v(t._s(e.Restaurant.name))])],1),r("p",[t._v(t._s(e.text))]),t._v(" by "),r("router-link",{attrs:{to:{name:"user",params:{id:e.User.id}}}},[t._v(t._s(e.User.name))]),t._v(" "+t._s(t._f("fromNow")(e.createdAt))+" "),r("hr")],1)})),0),t.filteredComments.length<1?r("div",[t._v("目前沒有評論")]):t._e()])},_=[],h=(r("4de4"),{name:"NewestComments",mixins:[u["b"]],props:{newComments:{type:Array,required:!0}},computed:{filteredComments:function(){return this.newComments.filter((function(t){if(t.text&&t.Restaurant)return t}))}}}),w=h,b=Object(m["a"])(w,p,_,!1,null,null,null),C=b.exports,g=r("c4c3"),x=r("2fa3"),y=r("2375"),k={name:"RestaurantsFeeds",components:{NavTabs:i["a"],NewestRestaurants:v,NewestComments:C,Spinner:y["a"]},data:function(){return{restaurants:[],comments:[],isLoading:!0}},created:function(){this.fetchFeeds()},methods:{fetchFeeds:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,a,n,s,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g["a"].getFeeds();case 3:if(r=e.sent,a=r.data,n=a.restaurants,s=a.comments,i=r.status,c=r.statusText,"OK"===c){e.next=8;break}throw new Error("".concat(i,": ").concat(c));case 8:t.restaurants=n,t.comments=s,t.isLoading=!1,e.next=18;break;case 13:e.prev=13,e.t0=e["catch"](0),t.isLoading=!1,console.log("error",e.t0),x["a"].fire({icon:"error",title:"發生錯誤：".concat(e.t0)});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))()}}},R=k,N=Object(m["a"])(R,a,n,!1,null,null,null);e["default"]=N.exports},eca1:function(t,e,r){"use strict";var a=r("32cc"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-4337fa42.846da72c.js.map